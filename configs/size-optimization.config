# 固件大小优化配置 - 确保16M以内
# 移除不必要的功能以减小固件大小

# 禁用IPv6相关功能
CONFIG_PACKAGE_ipv6helper=n
CONFIG_PACKAGE_kmod-ipt-nat6=n
CONFIG_PACKAGE_kmod-nf-nat6=n
CONFIG_PACKAGE_kmod-nf-nat6=n
CONFIG_PACKAGE_odhcp6c=n
CONFIG_PACKAGE_odhcpd-ipv6only=n

# 禁用PPP相关功能（如果不需要拨号）
CONFIG_PACKAGE_kmod-ppp=n
CONFIG_PACKAGE_kmod-pppoe=n
CONFIG_PACKAGE_kmod-pppox=n
CONFIG_PACKAGE_ppp=n
CONFIG_PACKAGE_ppp-mod-pppoe=n

# 禁用不常用的文件系统
CONFIG_PACKAGE_kmod-fs-btrfs=n
CONFIG_PACKAGE_kmod-fs-xfs=n
CONFIG_PACKAGE_kmod-fs-ntfs=n
CONFIG_PACKAGE_kmod-fs-hfs=n
CONFIG_PACKAGE_kmod-fs-hfsplus=n

# 禁用不常用的网络协议
CONFIG_PACKAGE_kmod-atm=n
CONFIG_PACKAGE_kmod-bridge=n
CONFIG_PACKAGE_kmod-gre=n
CONFIG_PACKAGE_kmod-ipip=n
CONFIG_PACKAGE_kmod-ipv6=n
CONFIG_PACKAGE_kmod-sit=n
CONFIG_PACKAGE_kmod-tunnel6=n

# 禁用调试和开发工具
CONFIG_PACKAGE_gdb=n
CONFIG_PACKAGE_valgrind=n
CONFIG_PACKAGE_strace=n
CONFIG_PACKAGE_tcpdump=n
CONFIG_PACKAGE_wireshark=n

# 禁用不常用的USB设备支持
CONFIG_PACKAGE_kmod-usb-audio=n
CONFIG_PACKAGE_kmod-usb-hid=n
CONFIG_PACKAGE_kmod-usb-net=n
CONFIG_PACKAGE_kmod-usb-serial=n
CONFIG_PACKAGE_kmod-usb-wdm=n

# 禁用不常用的无线功能
CONFIG_PACKAGE_kmod-ath10k=n
CONFIG_PACKAGE_kmod-ath5k=n
CONFIG_PACKAGE_kmod-b43=n
CONFIG_PACKAGE_kmod-brcmfmac=n
CONFIG_PACKAGE_kmod-brcmsmac=n
CONFIG_PACKAGE_kmod-rtl8180=n
CONFIG_PACKAGE_kmod-rtl8187=n

# 精简CUPS配置
CONFIG_PACKAGE_cups-client=n
CONFIG_PACKAGE_cups-ppdc=n
CONFIG_PACKAGE_cups-filters=n

# 启用压缩
CONFIG_KERNEL_CC_STACKPROTECTOR_REGULAR=y
CONFIG_KERNEL_CC_STACKPROTECTOR_NONE=n
CONFIG_STRIP_KERNEL_EXPORTS=y
CONFIG_USE_MKLIBS=y

# 启用squashfs压缩
CONFIG_TARGET_SQUASHFS_BLOCK_SIZE=256
CONFIG_TARGET_SQUASHFS_OPT_SIZE=100
CONFIG_TARGET_ROOTFS_SQUASHFS=y
CONFIG_TARGET_ROOTFS_TARGZ=n
