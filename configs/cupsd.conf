# CUPS 2.4.2 配置文件 - TP842Nv3 打印服务器
# 中文界面配置

# 监听地址
Listen *:631
Listen /var/run/cups/cups.sock

# 网络访问配置
Port 631

# Web界面配置
WebInterface Yes

# 默认认证类型
DefaultAuthType Basic

# 系统组
SystemGroup sys root

# 访问控制
<Location />
  Order allow,deny
  Allow from @LOCAL
  Allow from 192.168.10.0/24
</Location>

<Location /admin>
  Order allow,deny
  Allow from @LOCAL
  Allow from 192.168.10.0/24
</Location>

<Location /admin/conf>
  AuthType Default
  Require user @SYSTEM
  Order allow,deny
  Allow from @LOCAL
  Allow from 192.168.10.0/24
</Location>

<Location /admin/log>
  AuthType Default
  Require user @SYSTEM
  Order allow,deny
  Allow from @LOCAL
  Allow from 192.168.10.0/24
</Location>

# 打印机共享
Browsing On
BrowseLocalProtocols dnssd
BrowseAddress @LOCAL
BrowseAllow @LOCAL
BrowseAllow 192.168.10.0/24

# 日志配置
LogLevel info
AccessLog /var/log/cups/access_log
ErrorLog /var/log/cups/error_log
PageLog /var/log/cups/page_log

# 临时文件目录
TempDir /tmp/cups

# 缓存目录
CacheDir /var/cache/cups

# 状态文件
StateDir /var/run/cups

# 假脱机目录
RequestRoot /var/spool/cups

# 自动检测打印机
AutoDetectUSBPrinter Yes
